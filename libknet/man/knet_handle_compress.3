.\" File automatically generated by doxy2man0.2
.\" Generation date: Tue Nov 7 2017
.TH knet_handle_compress 3 2017-11-07 "kronosnet" "Kronosnet Programmer's Manual"
.SH "NAME"
knet_handle_compress \- Set up packet compression.
.SH SYNOPSIS
.nf
.B #include <libknet.h>
.sp
\fBint knet_handle_compress\fP(
    \fBknet_handle_t                     \fP\fIknet_h\fP,
    \fBstruct knet_handle_compress_cfg  *\fP\fIknet_handle_compress_cfg\fP
);
.fi
.SH DESCRIPTION
.PP 
knet_handle_compress
.PP 
knet_h - pointer to knet_handle_t
.PP 
knet_handle_compress_cfg - pointer to a knet_handle_compress_cfg structure
.PP 
compress_model should contain the mode name. Currently only "zlib" and "lz4" are supported. Setting to "none" will disable compression.
.PP 
compress_threshold tells the transmission thread to NOT compress any packets that are smaller than the value indicated. Default 100 bytes. Set to 0 to reset to the default. Set to 1 to compress everything. Max accepted value is KNET_MAX_PACKET_SIZE.
.PP 
compress_level some compression libraries allow tuning of compression parameters. For example zlib value ranges from 0 to 9 where 0 is no compression and 9 is max compression. This value is passed pristine to the compression library. zlib: 0 (no compression), 1 (minimal) .. 9 (max compression). lz4: 1 (max compression)... 9 (fastest compression). lz4hc: 1 (min compression) ... LZ4HC_MAX_CLEVEL (16) or LZ4HC_CLEVEL_MAX (12) depends on the installed version of lz4hc. libknet can detects the max value and will print an appropriate warning. lzo2: accepts only some specific values depending on the requested algorithm: 1 : lzo1x_1_compress (default) 11 : lzo1x_1_11_compress 12 : lzo1x_1_12_compress 15 : lzo1x_1_15_compress 999: lzo1x_999_compress every other values will use default lzma: 0 (minimal) .. 9 (max compression) bzip2: 1 (minimal) .. 9 (max compression) Please refer to the library man pages on how to be set this value, as it is passed unmodified to the compression algorithm where supported.
.PP 
knet does NOT implement the compression algorithm directly. it relies on external libraries for this functionality. Please read the libraries man pages to figure out which algorithm/compression level is best for the data you are planning to transmit.
.SH STRUCTURES
.SS ""
.PP
.sp
.sp
.RS
.nf
\fB
struct knet_handle_compress_cfg {
  char     \fIcompress_model\fP;
  uint32_t \fIcompress_threshold\fP;
  int      \fIcompress_level\fP;
};
\fP
.fi
.RE
.SH RETURN VALUE
.PP
knet_handle_compress returns 0 on success -1 on error and errno is set. EINVAL means that either the model or the level are not supported. 
.SH SEE ALSO
.PP
.nh
.ad l
\fIlibknet.h\fP(3), \fIknet_addrtostr\fP(3), \fIknet_handle_add_datafd\fP(3), \fIknet_handle_clear_stats\fP(3), \fIknet_handle_compress\fP(3), \fIknet_handle_crypto\fP(3), \fIknet_handle_enable_filter\fP(3), \fIknet_handle_enable_pmtud_notify\fP(3), \fIknet_handle_enable_sock_notify\fP(3), \fIknet_handle_free\fP(3), \fIknet_handle_get_channel\fP(3), \fIknet_handle_get_compress_list\fP(3), \fIknet_handle_get_crypto_list\fP(3), \fIknet_handle_get_datafd\fP(3), \fIknet_handle_get_stats\fP(3), \fIknet_handle_get_transport_id_by_name\fP(3), \fIknet_handle_get_transport_list\fP(3), \fIknet_handle_get_transport_name_by_id\fP(3), \fIknet_handle_get_transport_reconnect_interval\fP(3), \fIknet_handle_new\fP(3), \fIknet_handle_pmtud_get\fP(3), \fIknet_handle_pmtud_getfreq\fP(3), \fIknet_handle_pmtud_setfreq\fP(3), \fIknet_handle_remove_datafd\fP(3), \fIknet_handle_set_transport_reconnect_interval\fP(3), \fIknet_handle_setfwd\fP(3), \fIknet_host_add\fP(3), \fIknet_host_enable_status_change_notify\fP(3), \fIknet_host_get_host_list\fP(3), \fIknet_host_get_id_by_host_name\fP(3), \fIknet_host_get_name_by_host_id\fP(3), \fIknet_host_get_policy\fP(3), \fIknet_host_get_status\fP(3), \fIknet_host_remove\fP(3), \fIknet_host_set_name\fP(3), \fIknet_host_set_policy\fP(3), \fIknet_link_clear_config\fP(3), \fIknet_link_get_config\fP(3), \fIknet_link_get_enable\fP(3), \fIknet_link_get_link_list\fP(3), \fIknet_link_get_ping_timers\fP(3), \fIknet_link_get_pong_count\fP(3), \fIknet_link_get_priority\fP(3), \fIknet_link_get_status\fP(3), \fIknet_link_set_config\fP(3), \fIknet_link_set_enable\fP(3), \fIknet_link_set_ping_timers\fP(3), \fIknet_link_set_pong_count\fP(3), \fIknet_link_set_priority\fP(3), \fIknet_log_get_loglevel\fP(3), \fIknet_log_get_loglevel_id\fP(3), \fIknet_log_get_loglevel_name\fP(3), \fIknet_log_get_subsystem_id\fP(3), \fIknet_log_get_subsystem_name\fP(3), \fIknet_log_set_loglevel\fP(3), \fIknet_recv\fP(3), \fIknet_send\fP(3), \fIknet_send_sync\fP(3), \fIknet_strtoaddr\fP(3)
.ad
.hy
.SH COPYRIGHT
.PP
Copyright (C) 2010-2017 Red Hat, Inc. All rights reserved.
